(this.webpackJsonpfilter=this.webpackJsonpfilter||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n(1),a=n.n(r),i=n(11),s=n.n(i),u=n(19),o=n(20),l=n(33),d=n.n(l),b=n(35),f=(n(47),n(13)),j=(n(48),Object(o.c)({name:"video",initialState:{hue:0,active:!1},reducers:{changeHue:function(e,t){var n=t.payload;e.hue=n},setActive:function(e,t){var n=t.payload;e.active=n}}})),v=j.actions,p=j.reducer,O=Object(o.b)("PUSHED"),h=(v.changeHue,v.setActive),m=p,x=n(10),g=n.n(x),w=n(29),k=n(63),y=Object(k.a)({stream:{display:function(e){return e.isActive?"block":"none"},width:"100%",border:"1px solid red"}}),S=function(){var e=Object(w.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={audio:!1,video:{facingMode:"environment"}},e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),alert(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();function A(e){var t=e.isActive,n=y({isActive:t}),a=Object(r.useRef)(null);return Object(r.useEffect)((function(){t?function(){var e=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,a&&(a.current.srcObject=t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():a.current&&a.current.srcObject&&(a.current.srcObject.getTracks().forEach((function(e){console.log(e),e.stop()})),a.current.srcObject=null);return function(){}}),[t]),Object(c.jsx)("video",{ref:a,className:n.stream,playsInline:!0,autoPlay:!0})}var C=n(62),N=Object(k.a)({containerStream:{display:function(e){return e.isActive?"flex":"none"},flexDirection:"column",position:"relative",width:"100%",flexGrow:1,alignItems:"center",justifyContent:"center"},filter:{position:"absolute",top:0,left:0,width:"100%",height:"100%",mixBlendMode:"multiply",background:function(e){var t=e.slide;return"hsla(0, ".concat(t,"%, 50%, 1)")}},sliderContainer:{alignSelf:"center",width:"80%",margin:"1em"}});var E=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.active})),n=Object(r.useState)(100),a=Object(f.a)(n,2),i=a[0],s=a[1],o=Object(r.useCallback)((function(){e(O())}),[e]),l=Object(r.useCallback)((function(){e(h(!1))}),[e]),d=N({slide:i,isActive:t});return Object(c.jsxs)(c.Fragment,{children:[!t&&Object(c.jsx)("div",{className:"button",onClick:o,children:"PUSH"}),Object(c.jsxs)("div",{className:d.containerStream,children:[Object(c.jsx)(A,{isActive:t}),t&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:d.filter}),Object(c.jsx)("div",{className:"close",onClick:l,children:"X"}),Object(c.jsx)("div",{className:d.sliderContainer,children:Object(c.jsx)(C.a,{className:d.slider,value:i,onChange:function(e,t){s(t)}})})]})]})]})},H=m,D=n(23),M=g.a.mark(U),P=g.a.mark(I);function U(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)(350);case 2:return e.next=4,Object(D.b)(h(!0));case 4:case"end":return e.stop()}}),M)}function I(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)("PUSHED",U);case 2:case"end":return e.stop()}}),P)}var B=I,F=Object(b.a)(),J=Object(o.a)({reducer:H,middleware:function(e){return e().concat(F).concat(d.a)}});F.run(B),s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(u.a,{store:J,children:Object(c.jsx)(E,{})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.35b26fdf.chunk.js.map