(this.webpackJsonpfilter=this.webpackJsonpfilter||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n(1),a=n.n(r),s=n(10),i=n.n(s),u=n(8),o=n(9),f=n(22),j=n.n(f),b=n(24),l=(n(36),n(37),Object(o.c)({name:"video",initialState:{hue:0,active:!1},reducers:{changeHue:function(e,t){var n=t.payload;e.hue=n},setActive:function(e,t){var n=t.payload;e.active=n}}})),d=l.actions,v=l.reducer,p=Object(o.b)("PUSHED"),O=(d.changeHue,d.setActive),h=v,x=n(5),m=n.n(x),k=n(12),w=(n(39),function(){var e=Object(k.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={audio:!1,video:{facingMode:"environment"}},e.next=3,navigator.mediaDevices.getUserMedia(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),g=function(){var e=Object(k.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:e.sent.getTracks().forEach((function(e){console.log(e),e.stop()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function y(e){var t=e.isActive,n=Object(r.useRef)(null);return Object(r.useEffect)((function(){t?function(){var e=Object(k.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,n&&(n.current.srcObject=t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():n.current&&n.current.srcObject&&n.current.srcObject.getTracks().forEach((function(e){console.log(e),e.stop()}));return function(){g()}}),[t]),Object(c.jsx)("video",{ref:n,className:"stream".concat(t?"":" hide"),playsInline:!0,autoPlay:!0})}var E=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.active})),n=Object(r.useCallback)((function(){e(p())}),[e]),a=Object(r.useCallback)((function(){e(O(!1))}),[e]);return Object(c.jsxs)(c.Fragment,{children:[!t&&Object(c.jsx)("div",{className:"button",onClick:n,children:"PUSH"}),Object(c.jsxs)("div",{className:"containerStream".concat(t?"":" hide"),children:[Object(c.jsx)(y,{isActive:t}),t&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"filter"}),Object(c.jsx)("div",{className:"close",onClick:a,children:"X"})]})]})]})},S=h,H=n(13),N=m.a.mark(C),A=m.a.mark(P);function C(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)(350);case 2:return e.next=4,Object(H.b)(O(!0));case 4:case"end":return e.stop()}}),N)}function P(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.c)("PUSHED",C);case 2:case"end":return e.stop()}}),A)}var U=P,D=Object(b.a)(),M=Object(o.a)({reducer:S,middleware:function(e){return e().concat(D).concat(j.a)}});D.run(U),i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(u.a,{store:M,children:Object(c.jsx)(E,{})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8c9daec8.chunk.js.map